<!doctype html>
<html lang="pl" data-lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Erasmus Labs — Backend & Automation (Freelance) • API Integrations (PL/EN)</title>
  <meta name="description" content="Erasmus Labs builds backend services and automation systems: API integrations, data pipelines, workflow orchestration (n8n), and reliable operations. PL/EN.">
  <meta name="robots" content="index,follow">
  <meta name="theme-color" content="#050816">

  <!-- Canonical / Open Graph -->
  <meta property="og:url" content="https://www.erasmuslabs.pl">
  <link rel="canonical" href="https://www.erasmuslabs.pl">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Erasmus Labs — Backend & Automation (Freelance)">
  <meta property="og:description" content="I build backend + automation that survives reality: API integrations, data ingestion, workflow orchestration, and systems that fail loudly instead of silently. PL/EN.">
  <meta property="og:image" content="og-image.png?v=3">
  <meta property="og:locale" content="pl_PL">
  <meta property="og:locale:alternate" content="en_US">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Hreflang -->
  <link rel="alternate" href="https://www.erasmuslabs.pl" hreflang="pl">
  <link rel="alternate" href="https://www.erasmuslabs.pl" hreflang="en">
  <link rel="alternate" href="https://www.erasmuslabs.pl" hreflang="x-default">

  <!-- Favicons / PWA basics -->
  <link rel="icon" href="favicon.ico">
  <link rel="icon" type="image/jpeg" href="favicon.jpg">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href='data:application/manifest+json,{"name":"Erasmus%20Labs","short_name":"Erasmus%20Labs","start_url":"/","display":"standalone","background_color":"%23050816","theme_color":"%23050816","icons":[{"src":"favicon.jpg","sizes":"192x192","type":"image/jpeg"}]}'>

  <!-- Preload -->
  <link rel="preload" as="image" href="background1.jpg?v=3">
  <link rel="preload" as="image" href="ELLogoTM.png">

  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Plausible analytics -->
  <script defer data-domain="erasmusconsulting.pl" src="https://plausible.io/js/plausible.js"></script>

  <style>
    :root{
      --bg0:#050816;
      --bg1:#0b1024;
      --ink:#e8edf7;
      --muted:#a9b2c7;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.12);
      --stroke: rgba(255,255,255,.14);
      --stroke2: rgba(255,255,255,.22);
      --shadow: 0 12px 60px rgba(0,0,0,.45);
      --shadow2: 0 12px 40px rgba(0,0,0,.25);
      --radius: 20px;
      --radius2: 26px;
    }

    .container { max-width: 1120px; }

    /* Language visibility via attribute */
    html[data-lang="pl"] .lang-en { display: none !important; }
    html[data-lang="pl"] .lang-pl { display: inline !important; }
    html[data-lang="en"] .lang-en { display: inline !important; }
    html[data-lang="en"] .lang-pl { display: none !important; }
    .lang-en, .lang-pl { white-space: unset; }

    /* Base */
    html, body { height: 100%; background: var(--bg0); }
    body { color: var(--ink); }

    /* Background “lab” art */
    .lab-bg{
      position: fixed;
      inset: 0;
      z-index: -3;
      background:
        radial-gradient(900px 600px at 18% 12%, rgba(90,90,255,.22), transparent 55%),
        radial-gradient(900px 700px at 85% 22%, rgba(0,255,210,.12), transparent 58%),
        radial-gradient(1200px 800px at 40% 95%, rgba(255,0,200,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }
    .lab-photo{
      position: fixed;
      inset: 0;
      z-index: -4;
      background: url("background1.jpg?v=3") center/cover no-repeat fixed;
      filter: saturate(1.05) contrast(1.05) brightness(.55);
      transform: scale(1.03);
    }
    .lab-noise{
      position: fixed;
      inset: 0;
      z-index: -2;
      pointer-events: none;
      opacity: .10;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      background-size: 220px 220px;
      mix-blend-mode: overlay;
    }
    .lab-vignette{
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events:none;
      background: radial-gradient(circle at 50% 35%, rgba(0,0,0,0), rgba(0,0,0,.62) 70%);
    }

    /* Glass UI */
    .glass{
      background: var(--glass);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow2);
    }
    .glass-strong{
      background: var(--glass2);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid var(--stroke2);
      box-shadow: var(--shadow);
    }
    .chip{
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    /* Subtle animated “scanline” */
    .scanlines::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background: linear-gradient(
        to bottom,
        rgba(255,255,255,.02),
        rgba(255,255,255,0) 6px
      );
      background-size: 100% 6px;
      opacity: .35;
      mask-image: radial-gradient(circle at 50% 30%, black 40%, transparent 75%);
      animation: drift 10s linear infinite;
    }
    @keyframes drift { from { transform: translateY(0); } to { transform: translateY(18px); } }

    /* Focus ring */
    .focus-ring:focus{ outline: 2px solid rgba(255,255,255,.9); outline-offset: 3px; }
    input, textarea, button { transition: transform .12s ease, box-shadow .12s ease, background .12s ease; }
    input:focus, textarea:focus { box-shadow: 0 0 0 3px rgba(255,255,255,.14); }

    /* Buttons */
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:.5rem; border-radius: 14px;
      padding: .85rem 1.05rem;
      font-weight: 600;
    }
    .btn-primary{
      color: #07101f;
      background: linear-gradient(135deg, rgba(0,255,210,.95), rgba(120,120,255,.95));
      box-shadow: 0 12px 30px rgba(0,255,210,.12), 0 12px 30px rgba(120,120,255,.10);
    }
    .btn-primary:hover{ transform: translateY(-1px); box-shadow: 0 18px 44px rgba(0,255,210,.16), 0 18px 44px rgba(120,120,255,.14); }
    .btn-ghost{
      color: var(--ink);
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .btn-ghost:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }

    /* Links */
    a.link{ text-decoration: underline; text-underline-offset: 4px; text-decoration-color: rgba(255,255,255,.25); }
    a.link:hover{ text-decoration-color: rgba(255,255,255,.55); }

    /* Section dividers */
    .divider{
      height: 1px;
      width: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.22), transparent);
      opacity: .8;
    }

    /* Sticky mobile CTA */
    .sticky-cta { position:sticky; bottom:0; backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px); }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce) {
      .scanlines::before{ animation: none; }
      .btn-primary:hover, .btn-ghost:hover{ transform:none; }
    }
  </style>
</head>

<body class="antialiased">
  <!-- Background layers -->
  <div class="lab-photo" aria-hidden="true"></div>
  <div class="lab-bg" aria-hidden="true"></div>
  <div class="lab-noise" aria-hidden="true"></div>
  <div class="lab-vignette" aria-hidden="true"></div>

  <a href="#main" class="sr-only focus:not-sr-only focus:block focus:bg-white focus:text-black px-3 py-2">
    Przejdź do treści / Skip to content
  </a>

  <!-- Top status strip -->
  <div class="w-full border-b border-white/10">
    <div class="container mx-auto px-4 py-2 flex flex-wrap items-center justify-between gap-2 text-xs text-white/75">
      <span class="inline-flex items-center gap-2">
        <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
        <span class="lang-en">Erasmus Labs — backend + automation for real operations (PL/EN).</span>
        <span class="lang-pl">Erasmus Labs — backend + automatyzacje dla realnych procesów (PL/EN).</span>
      </span>
      <span class="inline-flex items-center gap-2">
        <span class="px-2 py-0.5 rounded-full chip text-[11px] text-white/85">
          <span class="lang-en">Available: integration sprints + ongoing maintenance</span>
          <span class="lang-pl">Dostępne: sprinty integracyjne + utrzymanie</span>
        </span>
      </span>
    </div>
  </div>

  <header class="sticky top-0 z-40 border-b border-white/10">
    <div class="glass">
      <nav class="container mx-auto px-4 py-3 flex items-center justify-between" aria-label="Main navigation">
        <a href="./" class="flex items-center gap-3 font-semibold tracking-tight" aria-label="Erasmus Labs — Home">
          <img src="ELLogoTM.png" alt="Erasmus Labs logo" class="h-10 w-auto rounded-lg shadow-sm" loading="lazy" decoding="async">
          <div class="hidden sm:block leading-tight">
            <div class="text-sm md:text-base">Erasmus Labs</div>
            <div class="text-[11px] text-white/65">
              <span class="lang-en">Backend & Automation (PL/EN)</span>
              <span class="lang-pl">Backend i Automatyzacje (PL/EN)</span>
            </div>
          </div>
        </a>

        <div class="hidden md:flex items-center gap-6 text-sm text-white/80">
          <a href="#agents" class="hover:text-white"><span class="lang-en">Services</span><span class="lang-pl">Usługi</span></a>
          <a href="https://blog.erasmuslabs.pl/" class="hover:text-white" target="_blank" rel="noopener">
            <span class="lang-en">Blog</span><span class="lang-pl">Blog</span>
          </a>
          <a href="#how" class="hover:text-white"><span class="lang-en">How it works</span><span class="lang-pl">Jak to działa</span></a>
          <a href="#chaos" class="hover:text-white"><span class="lang-en">Problems</span><span class="lang-pl">Problemy</span></a>
          <a href="#agent" class="hover:text-white"><span class="lang-en">Scope</span><span class="lang-pl">Zakres</span></a>
          <a href="#contact" class="hover:text-white"><span class="lang-en">Contact</span><span class="lang-pl">Kontakt</span></a>

          <button id="langToggle"
                  class="px-3 py-1.5 rounded-full border border-white/20 text-xs bg-white/5 hover:bg-white/10 focus-ring"
                  aria-pressed="true"
                  aria-label="Toggle language PL/EN">
            PL / EN
          </button>
        </div>

        <!-- Mobile menu button -->
        <button id="menuBtn" class="md:hidden px-3 py-2 rounded-xl border border-white/15 bg-white/5 hover:bg-white/10 focus-ring"
                aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu">
          ☰
        </button>
      </nav>

      <!-- Mobile menu -->
      <div id="mobileMenu" class="md:hidden hidden border-t border-white/10">
        <div class="container mx-auto px-4 py-3 flex flex-col gap-3 text-sm text-white/85">
          <a href="#agents" class="hover:text-white"><span class="lang-en">Services</span><span class="lang-pl">Usługi</span></a>
          <a href="https://blog.erasmuslabs.pl/" class="hover:text-white" target="_blank" rel="noopener">
            <span class="lang-en">Blog</span><span class="lang-pl">Blog</span>
          </a>
          <a href="#how" class="hover:text-white"><span class="lang-en">How it works</span><span class="lang-pl">Jak to działa</span></a>
          <a href="#chaos" class="hover:text-white"><span class="lang-en">Problems</span><span class="lang-pl">Problemy</span></a>
          <a href="#agent" class="hover:text-white"><span class="lang-en">Scope</span><span class="lang-pl">Zakres</span></a>
          <a href="#contact" class="hover:text-white"><span class="lang-en">Contact</span><span class="lang-pl">Kontakt</span></a>
          <button id="langToggleMobile"
                  class="w-fit px-3 py-1.5 rounded-full border border-white/20 text-xs bg-white/5 hover:bg-white/10 focus-ring"
                  aria-pressed="true">
            PL / EN
          </button>
        </div>
      </div>
    </div>
  </header>

  <main id="main">
    <!-- HERO -->
    <section class="container mx-auto px-4 pt-12 pb-10">
      <div class="relative glass-strong rounded-[26px] p-7 md:p-10 overflow-hidden scanlines">
        <div class="absolute inset-0 pointer-events-none" aria-hidden="true"
             style="background: radial-gradient(900px 420px at 20% 20%, rgba(0,255,210,.16), transparent 60%),
                              radial-gradient(800px 420px at 80% 10%, rgba(120,120,255,.18), transparent 62%),
                              radial-gradient(900px 520px at 70% 90%, rgba(255,0,200,.10), transparent 62%);">
        </div>

        <div class="relative grid md:grid-cols-2 gap-10 items-center">
          <div>
            <div class="inline-flex items-center gap-2 rounded-full px-3 py-1 text-[11px] chip text-white/85">
              <span class="uppercase tracking-wide">Erasmus Labs</span>
              <span class="h-1 w-1 rounded-full bg-white/40"></span>
              <span class="lang-en">Freelance backend + automation engineering (PL/EN).</span>
              <span class="lang-pl">Freelance backend + inżynieria automatyzacji (PL/EN).</span>
            </div>

            <h1 class="mt-5 text-4xl md:text-5xl font-bold leading-tight tracking-tight">
              <span class="lang-en block">Turn fragile workflows into reliable backend systems.</span>
              <span class="lang-pl block">Zamień kruche procesy w niezawodny backend.</span>
            </h1>

            <p class="mt-5 text-white/75 text-lg">
              <span class="lang-en">
                APIs, data pipelines, workflow orchestration, integrations.
                Real inputs go in. Predictable output comes out — with logs, retries, and clear failure modes.
              </span>
              <span class="lang-pl">
                API, pipeline’y danych, orkiestracja workflow, integracje.
                Realne wejścia wchodzą. Przewidywalny wynik wychodzi — z logami, retry i jasnymi błędami.
              </span>
            </p>

            <div class="mt-7 flex flex-wrap gap-3 items-center">
              <a href="#contact" class="btn btn-primary focus-ring">
                <span class="lang-en">Book a 30-minute call</span>
                <span class="lang-pl">Umów 30-minutową rozmowę</span>
                <span aria-hidden="true">→</span>
              </a>
              <a href="#agent" class="btn btn-ghost focus-ring">
                <span class="lang-en">See scope & examples</span>
                <span class="lang-pl">Zobacz zakres i przykłady</span>
              </a>
              <a href="https://www.loom.com/share/your-demo-id" target="_blank" rel="noopener" class="btn btn-ghost focus-ring">
                <span class="lang-en">Watch a 90-sec overview</span>
                <span class="lang-pl">Zobacz 90 s overview</span>
              </a>
            </div>

            <p class="mt-4 text-sm text-white/65">
              <span class="lang-en">
                Built by a former Microsoft finance lead (Executive MBA) and an automation engineer.
                We care about boring reliability — not demos.
              </span>
              <span class="lang-pl">
                Tworzone przez byłą liderkę finansów w Microsoft (Executive MBA) i inżyniera automatyzacji.
                Stawiamy na nudną niezawodność — nie demo.
              </span>
            </p>

            <div class="mt-5 inline-flex flex-wrap items-center gap-2 rounded-2xl px-4 py-3 chip text-sm">
              <span class="font-semibold"><span class="lang-en">Typical engagement</span><span class="lang-pl">Typowa współpraca</span></span>
              <span class="text-white/40">•</span>
              <span class="text-white/85"><span class="lang-en">1–2 week integration sprint</span><span class="lang-pl">Sprint integracyjny 1–2 tyg.</span></span>
              <span class="text-white/40">•</span>
              <span class="text-white/60"><span class="lang-en">optional maintenance</span><span class="lang-pl">opcjonalne utrzymanie</span></span>
            </div>

            <p class="mt-3 text-sm text-white/75">
              <span class="lang-en">Clear scope. Audit trail. Hand-over docs. Systems that fail loudly instead of silently.</span>
              <span class="lang-pl">Jasny zakres. Ślad audytowy. Dokumentacja przekazania. Systemy, które „krzyczą” zamiast psuć się po cichu.</span>
            </p>
          </div>

          <!-- Right column: “Live work” + ROI -->
          <div class="space-y-6">
            <div class="glass rounded-[22px] p-6">
              <div class="flex items-center justify-between mb-3">
                <div class="text-xs uppercase tracking-wide text-white/60">
                  <span class="lang-en">What I actually deliver</span>
                  <span class="lang-pl">Co realnie dowożę</span>
                </div>
                <span class="inline-flex items-center gap-2 rounded-full px-2 py-0.5 text-[11px] border border-emerald-300/40 bg-emerald-400/10 text-emerald-100">
                  <span class="inline-block h-1.5 w-1.5 rounded-full bg-emerald-300"></span>
                  <span class="lang-en">Backend + Automation</span>
                  <span class="lang-pl">Backend + Automatyzacje</span>
                </span>
              </div>

              <div class="grid gap-3">
                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                  <div class="font-semibold mb-1 text-white/90">
                    <span class="lang-en">A common pattern</span>
                    <span class="lang-pl">Typowy wzorzec</span>
                  </div>
                  <p class="text-sm text-white/70">
                    <span class="lang-en">Messy inputs → validation → API sync → database updates → notifications → audit log. Same behavior every time.</span>
                    <span class="lang-pl">Bałagan na wejściu → walidacja → synchronizacja API → baza danych → powiadomienia → log audytowy. To samo zachowanie za każdym razem.</span>
                  </p>
                </div>

                <div class="rounded-2xl border border-white/10 bg-white/5 p-4">
                  <div class="font-semibold mb-1 text-white/90">
                    <span class="lang-en">Design principle</span>
                    <span class="lang-pl">Zasada projektowa</span>
                  </div>
                  <p class="text-sm text-white/70">
                    <span class="lang-en">Explicit errors, retries, observability. If it fails — you know where and why.</span>
                    <span class="lang-pl">Jawne błędy, retry, obserwowalność. Jak pęknie — wiesz gdzie i dlaczego.</span>
                  </p>
                </div>
              </div>
            </div>

            <div class="glass rounded-[22px] p-6" aria-labelledby="roi_title">
              <div id="roi_title" class="text-xs uppercase tracking-wide text-white/60 mb-2">
                <span class="lang-en">Automation ROI estimator</span>
                <span class="lang-pl">Szacowanie ROI automatyzacji</span>
              </div>

              <p class="text-sm text-white/70 mb-4">
                <span class="lang-en">Estimate how much time and money a single automated workflow can recover each month.</span>
                <span class="lang-pl">Policz ile czasu i pieniędzy może odzyskać jeden zautomatyzowany workflow w miesiącu.</span>
              </p>

              <div class="grid grid-cols-2 gap-3 text-sm">
                <label class="flex flex-col" for="roi_posts">
                  <span class="mb-1 text-white/75 lang-en">Runs/week</span>
                  <span class="mb-1 text-white/75 lang-pl">Uruchomień/tydz.</span>
                  <input id="roi_posts" inputmode="numeric" min="1" max="200" value="10"
                         class="px-3 py-2 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 focus-ring" />
                </label>

                <label class="flex flex-col" for="roi_minutes">
                  <span class="mb-1 text-white/75 lang-en">Minutes saved/run</span>
                  <span class="mb-1 text-white/75 lang-pl">Minut oszczędz./run</span>
                  <input id="roi_minutes" inputmode="numeric" min="1" max="240" value="8"
                         class="px-3 py-2 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 focus-ring" />
                </label>

                <label class="flex flex-col" for="roi_rate">
                  <span class="mb-1 text-white/75 lang-en">Hourly cost (PLN)</span>
                  <span class="mb-1 text-white/75 lang-pl">Koszt godz. (PLN)</span>
                  <input id="roi_rate" inputmode="numeric" min="50" max="1200" value="150"
                         class="px-3 py-2 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 focus-ring" />
                </label>

                <div class="flex items-end">
                  <a id="roi_cta" href="#contact"
                     class="w-full text-center px-3 py-2 rounded-xl bg-white/10 hover:bg-white/15 border border-white/15 text-white font-semibold focus-ring">
                    <span class="lang-en">Get a scope estimate →</span>
                    <span class="lang-pl">Dostań wycenę zakresu →</span>
                  </a>
                </div>
              </div>

              <div id="roi_out" class="mt-3 text-sm text-white/85" aria-live="polite"></div>

              <div class="mt-2 flex items-center gap-2">
                <span id="roi_badge" class="hidden text-xs px-2 py-1 rounded-full border border-emerald-300/40 text-emerald-100 bg-emerald-400/10">
                  ROI positive
                </span>
                <button id="roi_assump" type="button" class="text-xs underline hover:no-underline text-white/70"
                        aria-controls="roi_assump_text" aria-expanded="false">
                  <span class="lang-en">Assumptions</span>
                  <span class="lang-pl">Założenia</span>
                </button>
              </div>

              <div id="roi_assump_text" class="hidden mt-2 text-xs text-white/60">
                <span class="lang-en">We assume 4.33 weeks/month. Savings = runs/week × minutes/run × 4.33 ÷ 60 × hourly cost.</span>
                <span class="lang-pl">Zakładamy 4,33 tyg./mies. Oszczędność = uruchomienia/tydz. × min/run × 4,33 ÷ 60 × koszt godz.</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-8 divider"></div>

      <!-- Social proof chips -->
      <div class="mt-6 flex flex-wrap items-center gap-3 text-sm text-white/70">
        <span class="px-3 py-1 rounded-full chip">Backend APIs</span>
        <span class="px-3 py-1 rounded-full chip">Workflow Automation</span>
        <span class="px-3 py-1 rounded-full chip">PostgreSQL</span>
        <span class="px-3 py-1 rounded-full chip">Docker</span>
        <span class="px-3 py-1 rounded-full chip">PL / EN</span>
      </div>
    </section>

    <!-- CHAOS STORY -->
    <section id="chaos" class="container mx-auto px-4 pb-6">
      <div class="glass rounded-[22px] p-7">
        <h2 class="text-2xl font-bold mb-3">
          <span class="lang-en">Reality: data lives in five places and nobody trusts the “source of truth”.</span>
          <span class="lang-pl">Rzeczywistość: dane żyją w pięciu miejscach i nikt nie ufa „źródłu prawdy”.</span>
        </h2>

        <p class="text-white/75 text-sm mb-4">
          <span class="lang-en">Most teams don’t suffer from a lack of software. They suffer from <strong>workflow chaos</strong>:</span>
          <span class="lang-pl">Większość zespołów nie cierpi na brak software’u. Cierpi na <strong>chaos workflow</strong>:</span>
        </p>

        <ul class="list-disc ml-6 text-sm text-white/75 space-y-1 mb-4">
          <li><span class="lang-en">requests split across email, chat, and spreadsheets</span><span class="lang-pl">zgłoszenia rozbite między mail, chat i arkusze</span></li>
          <li><span class="lang-en">copy/paste between tools with no audit trail</span><span class="lang-pl">copy/paste między narzędziami bez śladu audytu</span></li>
          <li><span class="lang-en">integrations that fail silently</span><span class="lang-pl">integracje, które psują się „po cichu”</span></li>
          <li><span class="lang-en">unclear ownership when something breaks</span><span class="lang-pl">brak ownera, gdy coś pęknie</span></li>
          <li><span class="lang-en">“it worked yesterday” as a strategy</span><span class="lang-pl">„wczoraj działało” jako strategia</span></li>
        </ul>

        <p class="text-white/75 text-sm mb-3">
          <span class="lang-en">Automation doesn’t fix bad reality by magic. It makes the system <strong>explicit</strong>.</span>
          <span class="lang-pl">Automatyzacja nie naprawia rzeczywistości magią. Ona robi system <strong>jawny</strong>.</span>
        </p>

        <p class="text-white/75 text-sm">
          <span class="lang-en">I start with what actually happens, define the data contracts, then build a workflow that produces clean, auditable output.</span>
          <span class="lang-pl">Zaczynam od tego, co naprawdę się dzieje, ustalam kontrakty danych, a potem buduję workflow z czystym, audytowalnym wynikiem.</span>
        </p>
      </div>
    </section>

    <!-- SERVICES OVERVIEW (kept IDs) -->
    <section id="agents" class="container mx-auto px-4 py-10">
      <h2 class="text-2xl font-bold mb-3">
        <span class="lang-en">Services</span>
        <span class="lang-pl">Usługi</span>
      </h2>
      <p class="text-white/70 max-w-3xl mb-6 text-sm">
        <span class="lang-en">Freelance backend + automation. Clear scope, measurable outcome, and systems that are maintainable after handover.</span>
        <span class="lang-pl">Freelance backend + automatyzacje. Jasny zakres, mierzalny wynik i systemy utrzymywalne po przekazaniu.</span>
      </p>

      <div class="grid md:grid-cols-3 gap-6 text-sm">
        <div class="glass rounded-[22px] p-6 flex flex-col justify-between">
          <div>
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold text-white/90">
                <span class="lang-en">API integrations & backend endpoints</span>
                <span class="lang-pl">Integracje API i endpointy backend</span>
              </h3>
              <span class="inline-flex items-center gap-2 rounded-full bg-emerald-400/10 px-2 py-0.5 text-[11px] text-emerald-100 border border-emerald-300/40">
                <span class="inline-block h-1.5 w-1.5 rounded-full bg-emerald-300"></span>
                <span class="lang-en">Core</span><span class="lang-pl">Core</span>
              </span>
            </div>
            <p class="text-white/70">
              <span class="lang-en">Connect services reliably: auth, rate limits, retries, idempotency, and clear contracts.</span>
              <span class="lang-pl">Łączenie systemów na serio: auth, limity, retry, idempotencja i jasne kontrakty.</span>
            </p>
          </div>
          <a href="#agent" class="mt-4 inline-flex items-center gap-2 text-white font-semibold hover:underline">
            <span class="lang-en">See scope</span><span class="lang-pl">Zobacz zakres</span><span aria-hidden="true">→</span>
          </a>
        </div>

        <div class="glass rounded-[22px] p-6 flex flex-col justify-between" style="border-style:dashed;">
          <div>
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold text-white/90">
                <span class="lang-en">Workflow orchestration (n8n) — build or refactor</span>
                <span class="lang-pl">Orkiestracja workflow (n8n) — budowa lub refaktor</span>
              </h3>
              <span class="inline-flex items-center gap-2 rounded-full bg-amber-400/10 px-2 py-0.5 text-[11px] text-amber-100 border border-amber-300/40">
                <span class="inline-block h-1.5 w-1.5 rounded-full bg-amber-300"></span>
                <span class="lang-en">Common request</span><span class="lang-pl">Częsty temat</span>
              </span>
            </div>
            <p class="text-white/70">
              <span class="lang-en">Turn fragile automations into predictable flows with logging, alerts, and safe failure handling.</span>
              <span class="lang-pl">Zamiana kruchych automatyzacji w przewidywalne flow z logami, alertami i bezpiecznymi awariami.</span>
            </p>
          </div>
          <p class="mt-4 text-xs text-white/60">
            <span class="lang-en">Tell me what keeps breaking — I’ll map the path to “boring”.</span>
            <span class="lang-pl">Powiedz co się psuje — rozpiszę drogę do „nudy”.</span>
          </p>
        </div>

        <div class="glass rounded-[22px] p-6 flex flex-col justify-between">
          <div>
            <h3 class="font-semibold text-white/90 mb-2">
              <span class="lang-en">Data ingestion & cleanup pipelines</span>
              <span class="lang-pl">Pipeline’y ingestu i czyszczenia danych</span>
            </h3>
            <p class="text-white/70">
              <span class="lang-en">Messy inputs, strict output: validation, normalization, dedupe, and a database that tells the truth.</span>
              <span class="lang-pl">Bałagan na wejściu, porządek na wyjściu: walidacja, normalizacja, deduplikacja i baza, która mówi prawdę.</span>
            </p>
          </div>
          <a href="#contact" class="mt-4 inline-flex items-center gap-2 text-white font-semibold hover:underline">
            <span class="lang-en">Let’s talk</span><span class="lang-pl">Porozmawiajmy</span><span aria-hidden="true">→</span>
          </a>
        </div>
      </div>
    </section>

    <!-- SCOPE / “SPECS” (kept IDs) -->
    <section id="agent" class="container mx-auto px-4 py-10">
      <h2 class="text-2xl font-bold mb-6">
        <span class="lang-en">Scope — what you can hire me for</span>
        <span class="lang-pl">Zakres — w czym mogę pomóc</span>
      </h2>

      <div class="grid md:grid-cols-3 gap-6">
        <div class="glass rounded-[22px] p-6">
          <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Deliverables</span><span class="lang-pl">Dowożę</span></h3>
          <ul class="text-sm text-white/70 list-disc ml-5 space-y-1">
            <li><span class="lang-en">API integration with retries + clear error handling</span><span class="lang-pl">Integracja API z retry + obsługa błędów</span></li>
            <li><span class="lang-en">Workflow automation with logging, alerts, and audit trail</span><span class="lang-pl">Automatyzacja z logami, alertami i śladem audytu</span></li>
            <li><span class="lang-en">Data pipelines: validation, normalization, dedupe</span><span class="lang-pl">Pipeline’y danych: walidacja, normalizacja, deduplikacja</span></li>
            <li><span class="lang-en">Handover docs so you’re not hostage to the system</span><span class="lang-pl">Dokumentacja przekazania (żeby nie być zakładnikiem)</span></li>
          </ul>
        </div>

        <div class="glass rounded-[22px] p-6">
          <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Typical stack</span><span class="lang-pl">Typowy stack</span></h3>
          <ul class="text-sm text-white/70 list-disc ml-5 space-y-1">
            <li>Python</li>
            <li>SQL / PostgreSQL</li>
            <li>Docker</li>
            <li>n8n</li>
            <li><span class="lang-en">REST APIs + webhooks</span><span class="lang-pl">REST API + webhooki</span></li>
          </ul>
        </div>

        <div class="glass rounded-[22px] p-6">
          <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Engagement</span><span class="lang-pl">Współpraca</span></h3>
          <ul class="text-sm text-white/70 list-disc ml-5 space-y-1">
            <li><span class="lang-en">Fast diagnosis call</span><span class="lang-pl">Szybka diagnoza</span></li>
            <li><span class="lang-en">Fixed scope: one workflow / one integration</span><span class="lang-pl">Stały zakres: jeden workflow / jedna integracja</span></li>
            <li><span class="lang-en">Build + test on your real data</span><span class="lang-pl">Budowa + test na realnych danych</span></li>
            <li><span class="lang-en">Optional monitoring & maintenance</span><span class="lang-pl">Opcjonalny monitoring i utrzymanie</span></li>
          </ul>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="how" class="container mx-auto px-4 py-10">
      <h2 class="text-2xl font-bold mb-6">
        <span class="lang-en">How it works</span>
        <span class="lang-pl">Jak to działa</span>
      </h2>

      <div class="grid md:grid-cols-4 gap-6 text-sm">
        <div class="glass rounded-[22px] p-5">
          <div class="font-semibold mb-1 text-white/90"><span class="lang-en">1) Diagnose</span><span class="lang-pl">1) Diagnoza</span></div>
          <p class="text-white/70"><span class="lang-en">We identify what breaks, where, and why.</span><span class="lang-pl">Ustalamy co pęka, gdzie i dlaczego.</span></p>
        </div>
        <div class="glass rounded-[22px] p-5">
          <div class="font-semibold mb-1 text-white/90"><span class="lang-en">2) Scope</span><span class="lang-pl">2) Zakres</span></div>
          <p class="text-white/70"><span class="lang-en">One workflow. One owner. Clear deliverables.</span><span class="lang-pl">Jeden workflow. Jeden owner. Jasne deliverables.</span></p>
        </div>
        <div class="glass rounded-[22px] p-5">
          <div class="font-semibold mb-1 text-white/90"><span class="lang-en">3) Build & test</span><span class="lang-pl">3) Budowa i test</span></div>
          <p class="text-white/70"><span class="lang-en">Implemented with logs, retries, and guardrails.</span><span class="lang-pl">Z logami, retry i guardrailami.</span></p>
        </div>
        <div class="glass rounded-[22px] p-5">
          <div class="font-semibold mb-1 text-white/90"><span class="lang-en">4) Handover</span><span class="lang-pl">4) Przekazanie</span></div>
          <p class="text-white/70"><span class="lang-en">Docs + runbook so you can operate it.</span><span class="lang-pl">Dokumentacja + runbook do utrzymania.</span></p>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="container mx-auto px-4 py-10">
      <h2 class="text-2xl font-bold mb-6">
        <span class="lang-en">FAQ</span>
        <span class="lang-pl">Najczęstsze pytania</span>
      </h2>

      <div class="grid md:grid-cols-2 gap-6 text-sm">
        <details class="glass rounded-[22px] p-5">
          <summary class="font-semibold cursor-pointer text-white/90">
            <span class="lang-en">Do you work with existing systems (and messy setups)?</span>
            <span class="lang-pl">Czy pracujesz z istniejącymi systemami (i bałaganem)?</span>
          </summary>
          <p class="mt-2 text-white/70">
            <span class="lang-en">Yes. Most work is refactoring fragile flows into explicit, observable workflows.</span>
            <span class="lang-pl">Tak. Najczęściej to refaktor kruchych flow w jawne, obserwowalne workflow.</span>
          </p>
        </details>

        <details class="glass rounded-[22px] p-5">
          <summary class="font-semibold cursor-pointer text-white/90">
            <span class="lang-en">Do you build in n8n or code?</span>
            <span class="lang-pl">Robisz w n8n czy w kodzie?</span>
          </summary>
          <p class="mt-2 text-white/70">
            <span class="lang-en">Both. n8n for orchestration when it fits; code for reliability, validation, and complex logic.</span>
            <span class="lang-pl">Oba. n8n do orkiestracji gdy ma sens; kod do niezawodności, walidacji i złożonej logiki.</span>
          </p>
        </details>

        <details class="glass rounded-[22px] p-5">
          <summary class="font-semibold cursor-pointer text-white/90">
            <span class="lang-en">How quickly can we ship something useful?</span>
            <span class="lang-pl">Jak szybko dowozimy coś użytecznego?</span>
          </summary>
          <p class="mt-2 text-white/70">
            <span class="lang-en">Typically 1–2 weeks for one well-scoped workflow/integration.</span>
            <span class="lang-pl">Zwykle 1–2 tygodnie na jeden dobrze określony workflow/integrację.</span>
          </p>
        </details>

        <details class="glass rounded-[22px] p-5">
          <summary class="font-semibold cursor-pointer text-white/90">
            <span class="lang-en">What do you need from me?</span>
            <span class="lang-pl">Czego potrzebujesz ode mnie?</span>
          </summary>
          <p class="mt-2 text-white/70">
            <span class="lang-en">A clear owner, access to required systems, and a concrete definition of “done”.</span>
            <span class="lang-pl">Jednego ownera, dostęp do potrzebnych systemów i konkretną definicję „done”.</span>
          </p>
        </details>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="container mx-auto px-4 py-10">
      <div class="glass rounded-[22px] p-7">
        <h2 class="text-2xl font-bold mb-3">
          <span class="lang-en">About Erasmus Labs</span>
          <span class="lang-pl">O Erasmus Labs</span>
        </h2>

        <p class="text-white/70 max-w-3xl mb-4 text-sm">
          <span class="lang-en">
            Erasmus Labs is a small studio focused on backend and automation for real operations.
            We build API integrations, data pipelines, and workflow orchestration that reduces manual work and makes failures visible.
          </span>
          <span class="lang-pl">
            Erasmus Labs to małe studio skoncentrowane na backend i automatyzacjach dla realnych procesów.
            Budujemy integracje API, pipeline’y danych i orkiestrację workflow, która odciąża ludzi i ujawnia awarie.
          </span>
        </p>

        <div class="grid md:grid-cols-3 gap-6 text-sm mt-6">
          <div class="rounded-[18px] border border-white/10 bg-white/5 p-5">
            <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Boring reliability</span><span class="lang-pl">Nudna niezawodność</span></h3>
            <p class="text-white/70"><span class="lang-en">Logs, retries, guardrails, and clear contracts. No silent failures.</span><span class="lang-pl">Logi, retry, guardraile i jasne kontrakty. Bez cichych awarii.</span></p>
          </div>

          <div class="rounded-[18px] border border-white/10 bg-white/5 p-5">
            <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Operational clarity</span><span class="lang-pl">Klarowność operacyjna</span></h3>
            <p class="text-white/70"><span class="lang-en">If it breaks, you know where, why, and what to do next.</span><span class="lang-pl">Jak pęknie, wiesz gdzie, dlaczego i co robić dalej.</span></p>
          </div>

          <div class="rounded-[18px] border border-white/10 bg-white/5 p-5">
            <h3 class="font-semibold mb-2 text-white/90"><span class="lang-en">Security & ownership</span><span class="lang-pl">Bezpieczeństwo i ownership</span></h3>
            <p class="text-white/70"><span class="lang-en">Controlled keys, minimal permissions, and a handover that keeps you in control.</span><span class="lang-pl">Kontrola kluczy, minimalne uprawnienia i przekazanie, które daje kontrolę.</span></p>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT (KEEP: n8n webhook) -->
    <section id="contact" class="container mx-auto px-4 py-10">
      <div class="glass-strong rounded-[26px] p-7 md:p-8">
        <div class="flex flex-wrap items-start justify-between gap-4">
          <div>
            <h2 class="text-2xl font-bold mb-2">
              <span class="lang-en">Contact</span>
              <span class="lang-pl">Kontakt</span>
            </h2>
            <p class="text-white/75 mb-1">
              <span class="lang-en">Send a message — we reply within one business day.</span>
              <span class="lang-pl">Wyślij wiadomość — odpowiadamy w ciągu jednego dnia roboczego.</span>
            </p>
            <p class="text-xs text-white/55">
              <span class="lang-en">This form sends directly to our n8n webhook (Telegram alert on our side).</span>
              <span class="lang-pl">Ten formularz wysyła bezpośrednio do webhooka n8n (po naszej stronie alert w Telegramie).</span>
            </p>
          </div>

          <div class="text-sm text-white/70">
            <span class="lang-en">Or email Ewa:</span>
            <span class="lang-pl">Albo mail do Ewy:</span>
            <a id="ewaMail" class="link ml-2" href="mailto:ewa@erasmuslabs.pl">ewa@erasmuslabs.pl</a>
          </div>
        </div>

        <div class="mt-6 divider"></div>

        <form id="contactForm" class="mt-6 grid md:grid-cols-2 gap-4" novalidate aria-describedby="formNote">
          <label class="flex flex-col">
            <span class="mb-1 text-white/80">Imię / Name</span>
            <input id="name" name="name" required autocomplete="name"
                   class="px-4 py-3 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 focus-ring" />
          </label>

          <label class="flex flex-col">
            <span class="mb-1 text-white/80">E-mail</span>
            <input id="email" name="email" required type="email" placeholder="you@company.com" autocomplete="email"
                   class="px-4 py-3 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 focus-ring" />
          </label>

          <!-- Honeypot (spam trap) -->
          <input type="text" name="_gotcha" class="hidden" tabindex="-1" autocomplete="off" aria-hidden="true">

          <!-- Hidden meta -->
          <input type="hidden" name="page" value="">
          <input type="hidden" name="lang" value="">
          <input type="hidden" name="utm_source" value="">
          <input type="hidden" name="utm_medium" value="">
          <input type="hidden" name="utm_campaign" value="">
          <input type="hidden" name="roi_posts_per_week" value="">
          <input type="hidden" name="roi_minutes_per_post" value="">
          <input type="hidden" name="roi_hourly_rate_pln" value="">
          <input type="hidden" name="roi_savings_hours_month" value="">
          <input type="hidden" name="roi_savings_pln_month" value="">
          <input type="hidden" name="roi_positive" value="">
          <input type="hidden" name="form_started_at" value="">
          <input type="hidden" name="form_submitted_at" value="">

          <label class="flex flex-col md:col-span-2">
            <span class="mb-1 text-white/80">Wiadomość / Message</span>
            <textarea id="contactMsg" name="message" required
                      placeholder="Napisz: co się psuje, jakie narzędzia/systemy, jak wygląda 'done'. / Write: what breaks, what systems, what 'done' looks like."
                      class="px-4 py-3 rounded-xl border border-white/15 bg-white/5 text-white placeholder-white/40 h-32 focus-ring"></textarea>
          </label>

          <button id="submitBtn" class="md:col-span-2 btn btn-primary focus-ring" type="submit">
            <span class="lang-en">Send</span>
            <span class="lang-pl">Wyślij</span>
            <span aria-hidden="true">→</span>
          </button>
        </form>

        <div id="endpointEcho" class="text-xs text-white/55 mt-3"></div>
        <div id="formNote" class="text-sm mt-3 hidden" aria-live="polite"></div>

        <noscript>
          <p class="text-xs text-red-300 mt-3">JavaScript is disabled — the form will not submit.</p>
        </noscript>
      </div>

      <!-- Mobile sticky CTA -->
      <div class="md:hidden sticky-cta mt-4 glass rounded-2xl p-3 flex items-center justify-between gap-3">
        <div class="text-sm text-white/80">
          <strong class="text-white"><span class="lang-en">1–2 week sprint</span><span class="lang-pl">Sprint 1–2 tyg.</span></strong>
          <span class="text-white/40">•</span>
          <span class="lang-en">Start fast</span>
          <span class="lang-pl">Szybki start</span>
        </div>
        <a href="#contact" class="px-4 py-2 rounded-xl bg-white/10 hover:bg-white/15 border border-white/15 text-white font-semibold">
          <span class="lang-en">Contact</span><span class="lang-pl">Kontakt</span>
        </a>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10">
    <div class="glass">
      <div class="container mx-auto px-4 py-8 text-sm text-white/70 flex flex-wrap items-center justify-between gap-3">
        <span>© <span id="year"></span> Erasmus Labs</span>
        <div class="flex gap-4 flex-wrap">
          <a href="https://www.linkedin.com/company/erasmus-consulting" class="hover:text-white" target="_blank" rel="noopener">LinkedIn</a>
          <a href="https://github.com/derasmus-hub/eras_consul_website" class="hover:text-white" target="_blank" rel="noopener">GitHub</a>
          <a href="/privacy.html" class="hover:text-white">Privacy</a>
          <a href="/terms.html" class="hover:text-white">Terms</a>
        </div>
      </div>
    </div>
  </footer>

  <script defer>
  // ================== CONFIG (KEEP: n8n webhook + stage switch) ==================
  const N8N_HOOKS = [
    'https://erasmus-consulting.app.n8n.cloud/webhook/lead-intake',     // production
    'https://erasmus-consulting.app.n8n.cloud/webhook-test/lead-intake' // test
  ];

  const urlStage = new URLSearchParams(location.search).get('stage');
  const FORCE_TEST = (urlStage || '').toLowerCase() === 'test';
  const N8N_HOOK = FORCE_TEST ? N8N_HOOKS[1] : N8N_HOOKS[0];

  window.__N8N_SELECTED_HOOK__ = N8N_HOOK;
  window.__N8N_HOOKS__ = N8N_HOOKS;
  // ==============================================================================

  // Year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Mobile menu
  const menuBtn = document.getElementById('menuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  if (menuBtn && mobileMenu) {
    menuBtn.addEventListener('click', () => {
      const isHidden = mobileMenu.classList.toggle('hidden');
      menuBtn.setAttribute('aria-expanded', isHidden ? 'false' : 'true');
    });
  }

  // Language toggle
  const toggle = document.getElementById('langToggle');
  const toggleMobile = document.getElementById('langToggleMobile');
  const enEls = document.querySelectorAll('.lang-en');
  const plEls = document.querySelectorAll('.lang-pl');
  const htmlEl = document.documentElement;
  let isPL = true;

  function setLang(pl) {
    enEls.forEach(el => el.style.display = pl ? 'none' : 'inline');
    plEls.forEach(el => el.style.display = pl ? 'inline' : 'none');
    isPL = pl;
    const code = pl ? 'pl' : 'en';
    htmlEl.setAttribute('lang', code);
    htmlEl.dataset.lang = code;
    localStorage.setItem('ec_lang', code);
    if (toggle) toggle.setAttribute('aria-pressed', pl ? 'true' : 'false');
    if (toggleMobile) toggleMobile.setAttribute('aria-pressed', pl ? 'true' : 'false');
    const langHidden = document.querySelector('input[name="lang"]');
    if (langHidden) langHidden.value = code;
  }

  const urlParams = new URLSearchParams(location.search);
  const hashLang = location.hash.replace('#','');
  const urlLang = (urlParams.get('lang') || (hashLang === 'pl' || hashLang === 'en' ? hashLang : '')).toLowerCase();

  setLang(
    urlLang ? (urlLang === 'pl') : (localStorage.getItem('ec_lang') || 'pl') === 'pl'
  );

  if (toggle) toggle.addEventListener('click', () => setLang(!isPL));
  if (toggleMobile) toggleMobile.addEventListener('click', () => setLang(!isPL));

  // Public mail link
  const EWA_EMAIL = 'ewa@erasmuslabs.pl';
  const ewaMail = document.getElementById('ewaMail');
  if (ewaMail) {
    ewaMail.textContent = EWA_EMAIL;
    ewaMail.href = `mailto:${EWA_EMAIL}?subject=Website%20lead%20—%20Erasmus%20Labs`;
  }

  // Contact form (DIRECT → n8n only)
  const form = document.getElementById('contactForm');
  const note = document.getElementById('formNote');
  const submitBtn = document.getElementById('submitBtn');
  const endpointEcho = document.getElementById('endpointEcho');

  if (endpointEcho) {
    endpointEcho.textContent = `n8n: ${N8N_HOOKS[0]} (fallback: ${N8N_HOOKS[1]}) • stage=${FORCE_TEST ? 'test' : 'prod'}`;
  }

  function showNote(text, ok = true) {
    if (!note) return;
    note.classList.remove('hidden', 'text-red-300', 'text-emerald-200');
    note.classList.add(ok ? 'text-emerald-200' : 'text-red-300');
    note.textContent = text;
    note.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }

  function lockBtn(state, labelWhenLocked) {
    if (!submitBtn) return;
    if (state) {
      submitBtn.disabled = true;
      submitBtn.classList.add('opacity-80', 'cursor-not-allowed');
      submitBtn.dataset.original = submitBtn.innerHTML;
      submitBtn.innerText = labelWhenLocked;
    } else {
      submitBtn.disabled = false;
      submitBtn.classList.remove('opacity-80', 'cursor-not-allowed');
      submitBtn.innerHTML = submitBtn.dataset.original || submitBtn.innerHTML;
    }
  }

  // Capture UTM params into hidden fields
  if (form) {
    const setHidden = (name, val) => {
      const el = form.querySelector(`input[name="${name}"]`);
      if (el) el.value = val || '';
    };
    setHidden('utm_source', urlParams.get('utm_source') || '');
    setHidden('utm_medium', urlParams.get('utm_medium') || '');
    setHidden('utm_campaign', urlParams.get('utm_campaign') || '');
    setHidden('page', location.href);
    setHidden('lang', document.documentElement.lang);

    const startedAt = form.querySelector('input[name="form_started_at"]');
    if (startedAt) startedAt.value = new Date().toISOString();
  }

  // ===== ROI Estimator (repurposed copy; math unchanged) =====
  const weeksPerMonth = 4.33;
  const PLAN_PRICE_PLN = 399; // kept for badge logic; not displayed as a “plan”

  const postsEl  = document.getElementById('roi_posts');
  const minsEl   = document.getElementById('roi_minutes');
  const rateEl   = document.getElementById('roi_rate');
  const outEl    = document.getElementById('roi_out');
  const ctaEl    = document.getElementById('roi_cta');
  const badgeEl  = document.getElementById('roi_badge');
  const roiAssumpBtn  = document.getElementById('roi_assump');
  const roiAssumpText = document.getElementById('roi_assump_text');

  const fmtPLN = v => new Intl.NumberFormat('pl-PL', { style: 'currency', currency: 'PLN', maximumFractionDigits: 0 }).format(Number(v||0));
  function clamp(n, lo, hi) { return Math.min(Math.max(Number(n)||0, lo), hi); }

  function calc(writeHidden = true) {
    if (!postsEl || !minsEl || !rateEl || !form || !outEl || !ctaEl || !badgeEl) return;

    const runs = clamp(postsEl.value, 1, 200);
    const mins  = clamp(minsEl.value , 1, 240);
    const rate  = clamp(rateEl.value , 50, 1200);

    const hoursMo = runs * (mins / 60) * weeksPerMonth;
    const plnMo = hoursMo * rate;
    const hoursYr = hoursMo * 12;
    const plnYr = plnMo * 12;

    const roiPositive = plnMo >= PLAN_PRICE_PLN;

    outEl.innerHTML = isPL
      ? ('Odzyskujesz około <b>' + hoursMo.toFixed(1) + ' godzin miesięcznie</b> (~<b>' + fmtPLN(plnMo) + '</b>) &nbsp;•&nbsp; rocznie: <b>' + hoursYr.toFixed(0) + ' godzin</b> (~<b>' + fmtPLN(plnYr) + '</b>)')
      : ('You recover approximately <b>' + hoursMo.toFixed(1) + ' hours per month</b> (~<b>' + fmtPLN(plnMo) + '</b>) &nbsp;•&nbsp; yearly: <b>' + hoursYr.toFixed(0) + ' hours</b> (~<b>' + fmtPLN(plnYr) + '</b>)');

    badgeEl.classList.toggle('hidden', !roiPositive);
    badgeEl.textContent = roiPositive ? 'ROI positive' : 'ROI';

    const qs = new URLSearchParams({
      runs_per_week: runs,
      minutes_per_run: mins,
      hourly_cost_pln: rate,
      savings_hours_month: hoursMo.toFixed(1),
      savings_pln_month: Math.round(plnMo).toString(),
      roi_positive: roiPositive ? '1' : '0'
    }).toString();
    ctaEl.href = `#contact?${qs}`;

    // Pre-fill contact message when coming from ROI CTA (hash with query)
    const contactMsg = document.getElementById('contactMsg');
    if (contactMsg && location.hash.startsWith('#contact') && location.hash.includes('?')) {
      const params = new URLSearchParams(location.hash.split('?')[1]);
      const msgPL = 'Workflow uruchamia się ' + params.get('runs_per_week') + ' razy tygodniowo, oszczędza ' + params.get('minutes_per_run') + ' minut na run, koszt godz. ' + params.get('hourly_cost_pln') + ' PLN. Szacowane oszczędności: ' + params.get('savings_hours_month') + ' godzin / mies. (~' + fmtPLN(params.get('savings_pln_month')) + ').';
      const msgEN = 'Workflow runs ' + params.get('runs_per_week') + ' times per week, saves ' + params.get('minutes_per_run') + ' minutes per run, hourly cost ' + params.get('hourly_cost_pln') + ' PLN. Estimated savings: ' + params.get('savings_hours_month') + ' hours / month (~' + fmtPLN(params.get('savings_pln_month')) + ').';
      contactMsg.value = isPL ? msgPL : msgEN;
    }

    if (writeHidden) {
      const set = (n, v) => { const el = form.querySelector('input[name="'+n+'"]'); if (el) el.value = v; };
      set('roi_posts_per_week', runs);
      set('roi_minutes_per_post', mins);
      set('roi_hourly_rate_pln', rate);
      set('roi_savings_hours_month', hoursMo.toFixed(1));
      set('roi_savings_pln_month', Math.round(plnMo));
      set('roi_positive', roiPositive ? '1' : '0');
    }
  }

  if (postsEl && minsEl && rateEl) {
    ['input','change'].forEach(ev => {
      postsEl.addEventListener(ev, () => calc(false));
      minsEl.addEventListener(ev, () => calc(false));
      rateEl.addEventListener(ev, () => calc(false));
    });
    calc();
  }

  if (roiAssumpBtn && roiAssumpText) {
    roiAssumpBtn.addEventListener('click', () => {
      const nowHidden = roiAssumpText.classList.toggle('hidden');
      roiAssumpBtn.setAttribute('aria-expanded', nowHidden ? 'false' : 'true');
    });
  }

  // ---- Helpers ----
  function formDataToJSON(fd) {
    const obj = {};
    fd.forEach((v, k) => {
      if (obj[k] !== undefined) {
        if (!Array.isArray(obj[k])) obj[k] = [obj[k]];
        obj[k].push(v);
      } else {
        obj[k] = v;
      }
    });
    return obj;
  }

  async function sendToN8N(payload) {
    // Try both hooks (prod then test) so you always get the Telegram alert.
    for (const hook of N8N_HOOKS) {
      try {
        const res = await fetch(hook, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
          mode: 'cors',
          keepalive: true
        });
        if (res.ok) return true;
      } catch (_) {
        // Fallback: still fire-and-forget for some hosting/CORS setups.
        try {
          await fetch(hook, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload),
            mode: 'no-cors',
            keepalive: true
          });
          return true;
        } catch (_) {}
      }
    }
    return false;
  }

  // Form submission (n8n only)
  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const honey = form.querySelector('input[name="_gotcha"]');
      if (honey && honey.value) return; // bot

      if (!form.reportValidity()) return;

      // Basic “speed bump”: if submitted too fast, treat as suspicious.
      const startedAt = form.querySelector('input[name="form_started_at"]')?.value;
      const submittedAt = new Date().toISOString();
      const submittedAtEl = form.querySelector('input[name="form_submitted_at"]');
      if (submittedAtEl) submittedAtEl.value = submittedAt;

      const seconds = startedAt ? Math.max(0, (Date.parse(submittedAt) - Date.parse(startedAt)) / 1000) : null;

      calc(true); // write ROI hiddens

      lockBtn(true, isPL ? 'Wysyłanie…' : 'Sending…');

      const fd = new FormData(form);
      const payload = formDataToJSON(fd);

      payload.__meta = {
        page: location.href,
        ts: new Date().toISOString(),
        ua: navigator.userAgent,
        lang: document.documentElement.lang,
        source: 'website-contact',
        stage: FORCE_TEST ? 'test' : 'prod',
        seconds_to_submit: seconds
      };

      // Optional guard: if super fast, mark as suspicious (don’t block; just tag it)
      if (seconds !== null && seconds < 2) payload.__meta.suspicious_fast_submit = true;

      try {
        const ok = await sendToN8N(payload);

        if (ok) {
          form.reset();
          // restart timer
          const sa = form.querySelector('input[name="form_started_at"]');
          if (sa) sa.value = new Date().toISOString();

          showNote(
            isPL ? 'Dziękujemy! Wiadomość została wysłana.' : 'Thank you. Your message has been sent.',
            true
          );
        } else {
          showNote(
            isPL ? ('Nie udało się wysłać. Napisz do nas na ' + EWA_EMAIL + '.') : ('Could not send. Please email ' + EWA_EMAIL + '.'),
            false
          );
        }
      } catch (err) {
        console.error('Contact error:', err);
        showNote(
          isPL ? ('Błąd połączenia. Napisz do nas na ' + EWA_EMAIL + '.') : ('Network error. Please email ' + EWA_EMAIL + '.'),
          false
        );
      } finally {
        lockBtn(false);
      }
    });
  }
  </script>

  <!-- Schema.org: Organization + Service + FAQ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Erasmus Labs",
    "url": "https://www.erasmuslabs.pl",
    "logo": "https://www.erasmusconsulting.pl/EL%20Logo%20TM.png",
    "sameAs": ["https://www.linkedin.com/company/erasmus-consulting"],
    "contactPoint": [{
      "@type": "ContactPoint",
      "email": "ewa@erasmuslabs.pl",
      "contactType": "customer support",
      "areaServed": "PL",
      "availableLanguage": ["pl", "en"]
    }]
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Service",
    "name": "Backend & Automation (API integrations, workflows, data pipelines)",
    "provider": { "@type": "Organization", "name": "Erasmus Labs" },
    "areaServed": "PL",
    "availableChannel": { "@type": "ServiceChannel", "serviceUrl": "https://www.erasmuslabs.pl#contact" },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "PLN",
      "category": "businessService",
      "description": "Pricing depends on scope (integration sprint / maintenance)."
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [{
      "@type":"Question",
      "name":"Do you work with existing systems (and messy setups)?",
      "acceptedAnswer":{"@type":"Answer","text":"Yes. Most work is refactoring fragile flows into explicit, observable workflows."}
    },{
      "@type":"Question",
      "name":"Do you build in n8n or code?",
      "acceptedAnswer":{"@type":"Answer","text":"Both. n8n for orchestration when it fits; code for reliability, validation, and complex logic."}
    },{
      "@type":"Question",
      "name":"How quickly can we ship something useful?",
      "acceptedAnswer":{"@type":"Answer","text":"Typically 1–2 weeks for one well-scoped workflow/integration."}
    },{
      "@type":"Question",
      "name":"What do you need from me?",
      "acceptedAnswer":{"@type":"Answer","text":"A clear owner, access to required systems, and a concrete definition of “done”."}
    }]
  }
  </script>
</body>
</html>
